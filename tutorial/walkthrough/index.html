<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>EcoSIS Tutorial</title>

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>EcoSIS Tutorial</h1>
					<h3>Step by step tutorial for adding datasets to EcoSIS</h3>
					<p>
						<small>Presented by <a href="http://forestandwildlifeecology.wisc.edu/townsend-phil-current-faculty-profile">Phil Townsend</a> / <a href="mailto:ptownsend@wisc.edu">ptownsend@wisc.edu</a></small><br />
						<small>Created by <a href="http://cstars.metro.ucdavis.edu/people/technical-staff/justin-merz/">Justin Merz</a> / <a href="mailto:jrmerz@ucdavis.edu">jrmerz@ucdavis.edu</a></small>
					</p>
				</section>

				<section>
					<h2>Heads Up</h2>
					<p>
						<a href="https://github.com/hakimel/reveal.js" target="_blank" >reveal.js</a> is a framework for easily creating beautiful presentations using HTML (including this one). You'll need a modern browser with
						support for CSS 3D transforms to see it in its full glory.
					</p>

					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>
						<h2>Create EcoSIS Account</h2>
						<p>
							First your will need to create an account at <a href="http://data.ecospectra.org" target="_blank">data.ecospectra.org</a>
						</p>
					</section>
					<section>
						<div>Click 'Register' in the upper right corner</div>
						<img src="ss/create1.png">
						<div>Then fill out the registration form</div>
						<img src="ss/create2.png">
					</section>
				</section>

				<section>
					<section>
						<h2>Login</h2>
						<p>Make sure you are logged in before proceeding</p>
					</section>
					<section>
						<div>To log in click 'Log in' in the upper right hand corner</div>
						<img src="ss/login1.png">
						<div>Then enter your username and password</div>
						<img src="ss/login2.png">
					</section>
				</section>
				
				<section>
					<section>
						<h2>Create Organization</h2>
						<p>Now we are going to create an organization for you or your lab.</p>
					</section>
					<section>
						<small>To create an Organization, click the 'Organizations' tab.  Then click the '+ Add Organization' button </small>
						<img src="ss/createOrg1.png">
						<small>Now give your organization a name, description and (optionally) set a logo.</small>
						<img src="ss/createOrg2.png">
					</section>
				</section>
				
				<section>
					<section>
						<h2>Add a Dataset</h2>
						<p>Navigate to your newly created organization by clicking the 'Organizations' tab, then click your organziations card.  You can also search for your organization by name.  Finally, click '+ Add Dataset' to start the EcoSIS dataset editor.</p>
					</section>
					<section>
						<p>Click your organization</p>
						<img src="ss/findOrg.png">
					</section>
					<section>
						<p>Click add '+ Add Dataset'</p>
						<img src="ss/findOrg2.png">
					</section>
				</section>
				
				<section>
					<section>
						<h2>Basic Information</h2>
						<p>In the dataset editor fill out the preliminary data for your dataset including name, description, license (if any) and visibility flag.  Make sure your description gives people a brief overview of what this dataset is.</p>
						<p>Then click 'New Resources' on the left hand navigation.  The menu item will show once you have given the dataset a valid title.</p>
					</section>
					<section>
						<img src="ss/addDataset.png">
					</section>
				</section>

				<section>
					<section>
						<h2>Data Formats</h2>
						<p>EcoSIS utilizes user-defined schema and recommends names for certain metadata attributes. EcoSIS uses the format of *your* files, with some guidance, to figure out your dataset's scheme.</p>
						
					</section>
					<section>
						<p>EcoSIS expects data to be uploaded with each measurement either:</p>

						<ul>
							<li><b>In a single row -</b> where the first column is your attribute name and the proceeding columns are the data values, including spectra</b></li>
							<li><b>In a single column -</b> where the first row is your attribute name and the proceeding rows are data values, including</b></li>
						</ul>

						<table style="width:100%; text-align:center">
							<tr>
								<td>
									<img src="ss/formatRow.png"><br />
									By Row
								</td>
								<td>
									<img src="ss/formatCol.png"><br />
									By Column
								</td>
							</tr>
						</table>

						<p style="font-size:70%;margin-top:20px;color:#888">Note: wavelengths are still considered to be an attribute name.</p>
					</section>
					<section>
						<p>You can add <b>additional</b>/<b>optional</b> formatting to your files to specify type (data vs metadata) if you are providing both in the same file.  You can also specify global metadata for a file.</p>

						<ul style="font-size:70%;margin-top:20px">
							<li>Adding the row break between the two bottom tables helps define your schema by telling the importer your attribute types.  The middle table will be set as type 'metadata' while the bottom table as type 'data'.  If you don't use the break you will be given a chance to manually define attributes after the file has been added.</li>
							<li>At the top of a file columns A and B can be used to define global metadata for the file with Column A being the attribute name and Column B being the attribute value.</li>
						</ul>

						<img src="ss/formatSpecial.png">
					</section>

					<section>
						<p>This is confusing. Maybe this: Finally, regardless of table format, only assign numeric attribute names to wavelengths. Data following any attribute name that is numeric will always be considered spectral data.</p>

						<img src="ss/formatWavelength.png">
					</section>
				</section>
				
				<section>
					<section>
						<h2>Add Resource Files</h2>
						<p>Select which format your files will be provided in.  Spectral (by column) where your wavelengths are provided in Column A or Time Series (by row) where your attribute names are provided in row 1.  Then select the files you wish to upload by clicking the file selector next to 'Select File' or by dragging and dropping the files over the 'Drop files here' box.</p>
						<p>Sample spectra and metadata files can be downloaded by clicking <a href="/demo_data.xlsx">here</a> and <a href="/demo_metadata.xlsx">here</a> (recommended).
					</section>
					<section>
						<img src="ss/upload.png">
					</section>
				</section>
				
				<section>
					<section>
						<h2>Configure Datasheets</h2>
						<p>After the files have finished parsing you will be redirected to the 'Configure Datasheets' tab in the 'New Resources' page.  Here you can see how the importer interpreted your files.</p>
						<p style="margin-top:20px">It's very important to look over your files and make sure everything is correct. Pay special attention to joinable metadata files as you will always need to mark these files and define how the metadata is to be joined with the rest of your data.</p>
					</section>
					<section>
						<h4>Configure Joinable Metadata</h4>
						<p>For metadata sheets, click the 'Joinable Metadata File' checkbox.</p>

						<table style="width:100%; text-align:center">
							<tr>
								<td>
									<img src="ss/inspect1.png"><br />
									Before configuration
								</td>
								<td>
									<img src="ss/inspect2.png"><br />
									After configuration
								</td>
							</tr>
						</table>
					</section>

					<section>
						Metadata can be joined by</p>
						<ul>
							<li><b>Attribute Name:</b> Using 'Join On' select the attribute that should be used as a unique id to join the metadata with the data.</li>
							<li><b>Filename:</b> If you have one spectrum per file you can match the selected attribute to a filename.  The 'exact match' option lets specify if the filename should be loosely matched or exactly matched to the attribute value.</li>
							<li><b>Sheetname:</b> Similar to filename, but lets you match the selected attribute to a sheetname inside a excel file.</li>
						</ul>
					</section>

					<section>
						<p>Inspect your datasheets to make sure they have been interpreted correctly.  You can click the 'Configure Attributes' button or 'Attribute Settings' on the left hand navigation to configure your datasets schema if any of your attribute types are incorrect.</p>
						<img src="ss/inspect3.png">
					</section>
					<section>
						Technical note.  At this point the importer hasnâ€™t really uploaded anything.  The app is using the HTML5 File Reader API to read the file(s) directly into your browser and parse them on your client.  This saves users having to upload all of their data on to the server before they can manipulate it.   Actual file upload happens later on.
					</section>
				</section>

				<section>
					<section>
						<h2>Attribute Settings / Dataset Schema</h2>
						<p>Now we want to make sure the schema for our dataset is correct as well as define special attributes for this dataset.</p>

						<img src="ss/schema1.png" />
					</section>

					<section>
						<h4>Schema</h4>
						<p>In the schema section you can modify any attribute whose type is not implied by the import file format.  You can also view what attribute types are fixed by their import format and why.</p>

						<img src="ss/schema2.png" />
					</section>

					<section>
						<h4>Dataset</h4>
						<p>In the dataset section you can specify special attributes that further describe your dataset.</p>
						<ul>
							<li><b>Order.</b> If your dataset has ordering (ex: the dataset is a time series) you can specify an attribute to order by. You can also specify how to parse the 'order by' attribute (string, number or date).</li>
							<li><b>Group.</b> If you would like to split up your dataset into several groups for searching purposes, you can provide a 'group by' attribute.</li>
							<li><b>Location.</b> If you would like to specify a geographic location for your dataset, you can set a location attribute.  The location attribute should be GeoJson in EPSG: 4326.</li>
						</ul>
					</section>

					<section>
						<img src="ss/schema3.png" />
					</section>

					<section>
						<h4>Map Names</h4>
						<p>Since the dataset schema is defined by the user, there are no restrictions on the names of the attributes in your dataset.  That said, it's strongly encouraged that you use the EcoSIS standard names.  If you would like you can provide a mapping of your attribute names to the EcoSIS name.  This way your data does not have to be directly modified but EcoSIS still understands your attributes.  To do this, you download the mapping (text) file, then upload for your dataset.  Note: this file can be reused for each one of your datasets.

						<img src="ss/schema4.png" />
					</section>
				</section>
				
				<section>
					<section>
						<h2>Inspect Dataset</h2>
						<p>So far you have provided EcoSIS with file format information as well as supplemental schema information for your dataset.  Now it's time to make sure the importer has correctly understood you.  Using the 'Inspect' menu item in the left navigation you can inspect and veryify your spectral data.</p>
					</section>
					<section>
						<img src="ss/spinspect1.png" />
						<p>Click the arrow next to 'Metadata' to inspect.</p>
					</section>

					<section>
						<p>Here you can inspect the attribute types as well as values.</p>
						<img src="ss/spinspect2.png" />
						<p style="font-size:70%;color: #888">Note: Non-standard ecosis attribute names are in <i>italic</i> while mapped attribute names show both the standard name as well as the non-standard name.</p>
					</section>
				</section>

				
				<section>
					<section>
						<h2>Upload Resources</h2>
						<p>We are now ready to upload our data.  Click the 'check' button on the right hand side to give the dataset one final review before upload.</p>

						<img src="ss/upload1.png" />
					</section>
					<section>
						<p>Review your upload the click 'Finalize' to start the upload process or 'Cancel' to go back and make edits.</p>
						<img src="ss/upload2.png"  />
					</section>
				</section>

				<section>
					<section>
						<h2>Done :)</h2>
						<p>You will be redirect to your datasets landing page on the main EcoSIS site.</p>

						<img src="ss/done.png" />
					</section>

					<section>
						<img src="ss/happy-cat.gif" />
					</section>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
