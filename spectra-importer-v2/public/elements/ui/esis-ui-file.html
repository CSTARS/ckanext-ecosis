<link rel="import" href="esis-ui-card.html" />
<link rel="import" href="esis-ui-delete-button.html" />

<polymer-element name="esis-ui-file" attributes="file">
	<template>
		<style>
			esis-ui-card {
				margin: 10px 5px;
				padding: 5px;
			}
			table tr th {
				text-align: left;
			}
			h4 {
				margin: 5px;
			}
			.float-right {
				position: absolute;
				right: -20px;
				top: -10px;
			}
		</style>

		<esis-ui-card z="1">
			<h4 style="color: #888">{{file.info.name}}</h4>
			<esis-ui-delete-button class="float-right" label="{{file.info.name}}" on-delete="{{_delete}}"></esis-ui-delete-button>


    		<template bind if="{{file.resources.length > 1}}">
    			<div style="margin-left: 25px">
    				<h4>Extracted Resources</h4>
    				<template repeat="{{resource in file.resources}}">
    					<div>{{resource.title}}</div>
    				</template>
    			</div>
    		</template>
		</esis-ui-card>
	</template>
	<script>
		Polymer('esis-ui-file', {
			_delete : function() {
				document.querySelector('esis-datastore').removeFile(this.file);
			}
		});
	</script>
<polymer-element>