<dom-module id="ecosis-attribute-mapping">
  <style>
    :host {
      display: block;
    }
  </style>

  <template>
    <div class="well">
        If your metadata attribute names do not match <a>this</a> list, you can download
        the attribute map file.  Fill out the file and then upload in the box to the right.  You can
        reuse this file, so you only have to fill it out once for your data.  Just make sure to set
        the attribute map for each dataset you add.
    </div>

    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Map Attributes</h3>
      </div>
      <div class="panel-body">
        <h6 class="page-header" style="margin-top:0">By File</h6>

        <div class="horizontal layout">
            <div class="flex">
                <a class="btn btn-default" target="_blank" href="/metadata_map">Download Map Template</a>
            </div>
            <div class="flex">
                Upload Map: <input type="file" style="margin-top:5px" id="map" name="map" on-change="{{_processMap}}">

                <input type="file" style="display:none" id="addAttrMap" name="addAttrMap" />
            </div>
        </div>
        <div class="help-block">
          Use this to bulk upload and set the attribute name mapping.  This is map file can be
          reused across your datasets.  NOTE:  This will overwrite all current attribute mappings.
        </div>

        <h6 class="page-header">Individually</h6>
        <div class="layout horizontal center">
            <div>EcoSIS:</div>
            <div>
                <select id="newEcosis" style="form-control"></select>
            </div>
        </div>
        <div class="layout horizontal center">
            <div id="dsTitleLabel"></div>
            <div>
                <select id="newCustom">
                    <option></option>
                </select>
            </div>
            <div>
                <a class="btn btn-primary" on-click="add"><i class="fa fa-plus"></i> Add</a>
            </div>
        </div>
      </div>
    </div>

    <div class="panel panel-primary" id="currentPanel">
      <div class="panel-heading">
        <h3 class="panel-title">Current Name Mappings</h3>
      </div>
      <div class="panel-body" id="currentMapRoot"></div>
    </div>

  </template>
</dom-module>

<script>
  Polymer({
    is : 'ecosis-attribute-mapping'
  })
</script>
