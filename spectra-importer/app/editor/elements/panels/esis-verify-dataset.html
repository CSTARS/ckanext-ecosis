<link rel="import" href="../../components/paper-shadow/paper-shadow.html" />

<polymer-element name="esis-verify-dataset" attributes="ds counts">
	<template>
		<style>
			table {
				border-spacing: 0px;
				width: 100%;
			}
			table tr td {
				padding: 5px;
			}
			table tr td:nth-child(2) {
				color: #888;
			}
			table tr:nth-child(odd) {
				background-color: #f8f8f8;
			}
			h4 {
				color: #888;
			}
			h2 {
				color: #2f9b45;
			}
			.card {
				padding: 15px;
				margin: 15px;
				min-width: 350px;
			}
			.colored {
				background-color: #2f9b45;
				color: white;
			}
		</style>

		<h2>Push Changes to Ecosis Search</h2>
		<div>
			Please verify all information looks correct.  Once everything looks correct, click 'Update' below and your changes will be represented at ecospectra.org.  If this is a private dataset, you can ignore this step.
		</div>

		<div class="card">
			<paper-shadow></paper-shadow>
			
			<h4>Basic Information</h4>
			<table>
				<tr><td>Title</td><td>{{ds.data.title}}</td></tr>
				<tr><td>Name</td><td>{{ds.data.name}}</td></tr>
				<tr><td>Description</td><td>{{ds.data.notes}}</td></tr>
				<tr><td>License</td><td>{{ds.data.license_title}}</td></tr>
				<tr><td>Organization</td><td>{{ds.owner_org_name}}</td></tr>
				<tr><td>Visibility</td><td>{{ds.data.hidden ? 'Private' : 'Public'}}</td></tr>
				<tr><td>Version</td><td>{{ds.data.version}}</td></tr>
				<tr><td>Author</td><td><b>{{ds.data.author}}</b> <i>{{ds.data.author_email}}</i></td></tr>
				<tr><td>Maintainer</td><td><b>{{ds.data.maintainer}}</b> <i>{{ds.data.maintainer_email}}</i></td></tr>
			</table>
		</div>

		<div class="card">
			<paper-shadow z="1"></paper-shadow>
			<h4>Resource Information</h4>
			<table>
				<tr><td>Total Resources</td><td>{{counts.totalResources}}</td></tr>
				<tr><td>Metadata Resources</td><td>{{counts.metadataResources}}</td></tr>
				<tr><td>Spectra Resources</td><td>{{counts.measurementResources}}</td></tr>
				<tr><td># Parsed Spectra</td><td>{{counts.measurements}}</td></tr>
			</table>
		</div>

		<paper-button label="Cancel" style="float:right" on-tap="{{cancel}}"></paper-button>
		<paper-button raisedButton label="{{ds.editMode ? 'Update' : 'Finalize'}}" class="colored" on-tap="{{finalize}}"><paper-button>


	</template>
	<script>
		Polymer('esis-verify-dataset', {
			ds : {},


			ready : function() {
				this.ds = document.querySelector('esis-dataset');
			},
			finalize : function(){
				this.fire('finalize');
			},
			cancel : function(){
				this.fire('cancel');
			}
		});
	</script>
</polymer-element>