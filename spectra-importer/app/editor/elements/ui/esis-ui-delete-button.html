<link rel="import" href="../../components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../components/paper-button/paper-button.html">

<polymer-element name="esis-ui-delete-button" attributes="label">
	<template>

		<paper-icon-button icon="delete" on-click="{{_start}}" hidden?="{{state != 'init'}}"></paper-icon-button>

		<template bind if="{{state == 'confirm'}}">
			<paper-button on-click="{{reset}}" raised>
				<core-icon icon="cancel"></core-icon> Cancel
			</paper-button>
			<paper-button on-click="{{_delete}}" class="red-button" raised>
				<core-icon icon="warning"></core-icon> Delete {{label}}
			</paper-button>
		</template>
	</template>
	<script>
		Polymer('esis-ui-delete-button', {
			state : 'init',

			reset : function() {
				this.state = 'init'
			},

			_start : function() {
				this.state = 'confirm'
			},

			_delete : function() {
				this.fire('delete');
			}
		});
	</script>
</polymer-element>