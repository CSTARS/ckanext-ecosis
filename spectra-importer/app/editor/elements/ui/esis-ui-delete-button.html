<link rel="import" href="../../components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../components/paper-button/paper-button.html">

<polymer-element name="esis-ui-delete-button" attributes="label">
	<template>
		<link rel="stylesheet" href="../../components/animate-css/animate.min.css" no-shim>

		<paper-button id="start" class="animated" on-tap="{{_confirm}}">
			<core-icon icon="close"></core-icon>
		</paper-button>

		<paper-button id="remove" style="display:none;background-color: #d23f31" class="animated flipInX" on-tap="{{_delete}}">Remove {{label}}</paper-button>
		<paper-button id="cancel" style="display:none;background-color: white" class="animated flipInX" on-tap="{{_cancel}}">Cancel</paper-button>
	</template>
	<script>
		Polymer('esis-ui-delete-button', {
			_confirm : function() {
				this.$.start.classList.add('rotateOut');

				setTimeout(function(){
					this.$.start.style.display = 'none';
					this.$.start.classList.remove('rotateOut');

					this.$.remove.style.display = 'inline-block';
					this.$.cancel.style.display = 'inline-block';
				}.bind(this), 500);
			},

			_cancel : function() {
				this.$.start.style.display = 'block';
				this.$.remove.style.display = 'none';
				this.$.cancel.style.display = 'none';
			},

			_delete : function() {
				this.fire('delete');
			}
		});
	</script>
</polymer-element>