<link rel="import" href="widgets/ecosis-attribute-mapping.html">
<link rel="import" href="widgets/ecosis-dataset-order.html">

<dom-module id="ecosis-page-advanced">
  <style>
    :host {
      display: block;
      padding: 0 5%;
    }
  </style>

  <template>

    <h3 class="page-header">Map Dataset Attribute Names</h3>
    <ecosis-attribute-mapping id="mapping"></ecosis-attribute-mapping>

    <h3 class="page-header">Dataset Template</h3>
    <div class="well well-sm">Download a dataset template file for this dataset.  You can use this
      JSON formatted template file to help speed up the creation of new datasets like this one.
    </div>
    <div style="padding: 15px">
      <a class="btn btn-primary" id="datasetTemplate" target="_blank">Download Dataset Template</a>
    </div>

    <h3 class="page-header">Dataset Ordering</h3>
    <ecosis-dataset-order style="margin-bottom: 50px" id="order"></ecosis-dataset-order>
  </template>
</dom-module>

<script>
  Polymer({
    is : 'ecosis-page-advanced',

    onShow : function() {
      this.$.mapping.onShow();
      this.$.order.onShow();
      this.$.datasetTemplate.setAttribute('href', ecosis.ckan.host+'/ecosis/package/getTemplate?id='+ecosis.ds.package_id);
    }
  })
</script>
